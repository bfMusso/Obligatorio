@model List<DTOs.DTOListarArticulos>

@{
    ViewBag.Title = "Listar Movimientos por Fechas";
}

<h1 class="text-center">Nuevo movimiento de stock</h1>

<h4 class="mt-3 text-center">Listar Movimientos por Fechas</h4>


<div class="row mt-3 justify-content-center align-items-center">
    <div class="col-md-6">
        <form asp-action="ListarArticulosPorFechas" onsubmit="formatearfechas()">
            <div class="form-group fw-bold text-center">
            <label for="inicial" class="control-label">Inicial: </label>
            <input type="datetime-local" name="inicial" class="form-control" />
        </div>
            <div class="form-group fw-bold text-center">
            <label for="final" class="control-label">Final: </label>
            <input type="datetime-local" name="final" class="form-control" />
        </div>
        <div class="form-group mt-3 text-center">
            <input type="submit" value="Buscar" class="btn btn-success w-100" />
        </div>
    </form>
    </div>
</div>


@if (ViewBag.Mensaje != null)
{
    <div class="mt-2">
        <p class="fw-bold text-danger text-center">@ViewBag.Mensaje</p>
    </div>
}

@if (Model != null && Model.Count > 0)
{
    <div class="row justify-content-center align-items-center mt-5 ">
        <table>
            <thead class="text-center bg-black text-white">
                <tr>
                    <th>Id</th>
                    <th>Nombre</th>
                    <th>Descripcion</th>
                    <th>CodigoProveedor</th>
                    <th>Stock</th>
                    <th>PrecioVenta</th>
                </tr>
            </thead>
            <tbody class="text-center">
                @foreach (var articulo in Model)
                {
                    <tr>
                        <td>@articulo.Id</td>
                        <td>@articulo.Nombre</td>
                        <td>@articulo.Descripcion</td>
                        <td>@articulo.CodigoProveedor</td>
                        <td>@articulo.Stock</td>
                        <td>@articulo.PrecioVenta</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    
}

<script>
    function formatearfechas() {
        const fInicial = document.getElementById('inicial');
        const fFnal = document.getElementById('final');

        fInicial.value = fInicial.value.replace(/\//g, '-');
        fFnal.value = fFnal.value.replace(/\//g, '-');
    }
</script>
